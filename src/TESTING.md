# Инструкции по тестированию новых функций

## 1. Тест отправки сообщений в чате через "Мои сессии"

**Шаги:**
1. Перейдите во вкладку "Мои сессии"
2. Найдите любую сессию (активную или завершённую) с партнёром
3. Нажмите на иконку чата (MessageCircle)
4. Откроется диалоговое окно с чатом
5. Напишите сообщение и нажмите Enter или кнопку отправки
6. **Ожидаемый результат**: Сообщение должно появиться в чате сразу же

## 2. Тест добавления в избранное из прошлых сессий

**Шаги:**
1. Перейдите во вкладку "Мои сессии"
2. Прокрутите вниз до раздела "Прошлые сессии"
3. Найдите завершённую сессию с партнёром
4. Нажмите на иконку сердца (Heart)
5. **Ожидаемый результат**: 
   - Появится уведомление "Добавлено в избранное"
   - Иконка сердца станет заполненной (fill-current)
   - Появится бейдж "Избранное"

## 3. Тест страницы "Избранные контакты"

**Шаги:**
1. Добавьте несколько партнёров в избранное (из активных или прошлых сессий)
2. Перейдите во вкладку "Избранное" в навигации
3. **Ожидаемый результат**:
   - Отображаются все избранные партнёры в виде карточек
   - Каждая карточка содержит аватар, имя, бейдж "Избранное"
   - Доступны кнопки "Написать" и "Сессия"
   - Есть кнопка "Удалить из избранного"
4. Нажмите "Удалить из избранного" на любом партнёре
5. **Ожидаемый результат**: Партнёр удаляется из списка

## 4. Тест отсутствия кнопки "Демо сессия"

**Шаги:**
1. Проверьте десктопную навигацию (Header)
2. Проверьте мобильное меню (откройте через иконку гамбургера)
3. **Ожидаемый результат**: Кнопки "Демо сессия" нигде нет

## 5. Тест админки

### 5.1. Вход в админку

**Шаги:**
1. Выйдите из текущего аккаунта (если залогинены)
2. Войдите с email: `admin@parta.app` или `tpycbi@gmail.com` (имя любое)
3. **Ожидаемый результат**: 
   - В навигации появится кнопка "Админка"
   - Вы сможете перейти в админ-панель

### 5.2. Подача жалобы

**Шаги:**
1. Войдите под обычным пользователем (не admin@parta.app)
2. Забронируйте сессию или присоединитесь к активной
3. Во время активной сессии нажмите кнопку "Пожаловаться"
4. Выберите причину жалобы и заполните детали
5. Нажмите "Отправить жалобу"
6. **Ожидаемый результат**: 
   - Появится уведомление "Жалоба отправлена"
   - Жалоба сохранится на сервере

### 5.3. Просмотр жалоб в админке

**Шаги:**
1. Войдите как администратор (admin@parta.app или tpycbi@gmail.com)
2. Перейдите во вкладку "Админка"
3. **Ожидаемый результат**:
   - Отображается список жалоб во вкладке "Жалобы"
   - Новые жалобы имеют бейдж "Новая"
   - Отображается информация о жалобе (кто пожаловался, на кого, причина, детали)

### 5.4. Блокировка пользователя

**Шаги:**
1. В админке найдите жалобу
2. Нажмите кнопку "Заблокировать"
3. Подтвердите действие в диалоговом окне
4. **Ожидаемый результат**:
   - Появится уведомление "Пользователь заблокирован"
   - Жалоба переместится в раздел "Решённые"
   - Пользователь появится во вкладке "Заблокированные"

### 5.5. Разблокировка пользователя

**Шаги:**
1. В админке перейдите во вкладку "Заблокированные"
2. Найдите заблокированного пользователя
3. Нажмите кнопку "Разблокировать"
4. **Ожидаемый результат**:
   - Появится уведомление "Пользователь разблокирован"
   - Пользователь удалится из списка заблокированных

### 5.6. Отметка жалобы как рассмотренной

**Шаги:**
1. В админке найдите новую жалобу
2. Нажмите кнопку "Рассмотрено"
3. **Ожидаемый результат**:
   - Появится уведомление "Жалоба отмечена как рассмотренная"
   - Жалоба переместится в раздел "Рассмотренные"

## Проверка интеграции

1. Добавьте партнёра в избранное из активной сессии
2. Проверьте, что он появился в "Мои сессии" с бейджем "Избранное"
3. Проверьте, что он появился во вкладке "Избранное"
4. Проверьте, что он появился в профиле в разделе "Избранные партнёры"
5. Удалите его из избранного в любом месте
6. Проверьте, что он исчез везде

## 6. Тест чата из избранного

**Шаги:**
1. Добавьте партнёра в избранное (из активной или прошлой сессии)
2. Перейдите во вкладку "Избранное"
3. Найдите карточку партнёра
4. Нажмите кнопку "Написать"
5. **Ожид��емый результат**:
   - Если есть сессия с этим партнёром: автоматически откроется страница "Мои сессии" с открытым диалогом чата
   - Если нет сессий: появится уведомление "Нет сессий с этим партнёром"
6. В открытом чате напишите сообщение
7. **Ожидаемый результат**: Сообщение отправляется и отображается в чате

## Известные особенности

- Демо-данные используются для симуляции партнёров
- Email admin@parta.app и tpycbi@gmail.com автоматически получают админские права
- Все данные хранятся в localStorage и Supabase KV Store
- Кнопка "Сессия" в избранном пока отключена (для будущей реализации)
